{% extends 'base.html' %}

{% block title %} {{ page }} {% endblock %}

{% block content %}

{% if object_list %}
<style>
table {
	border: 1px solid black;
	}
th, td {
	border: 1px solid black;
	padding: .2em .7em;
	text-align: right;}
th, td:nth-child(2) { text-align: left; }
</style>


<table>
<thead>
<tr>
<th>Issue Number</th>
<th>Issue Title</th>
<th>Type</th>
<th>Issue Status</th>
<th>Priority</th>
<th>Last Updated</th>
<th>Assigned To</th>
</tr>
</thead>
<tbody>
{% if object_list %}	
  {% for issue in object_list %}
   <tr>
   <td>{{ issue.pk }}</td>
   <td><a href="/issue/view/{{issue.pk}}">{{ issue.title }}</a></td>
   <td>{{ issue.issue_type }}</td>
   <td>{{ issue.status }}</td>
   <td>{{ issue.priority }}</td>
   <td>{{ issue.modified_date }}</td>
   <td>{{ issue.assignee }}</td>
   </tr>
  {% endfor %}
{% else %}
    <h3>There are no issues currently entered.</h3>
{% endif %}
</tbody>
<tfoot>

</tfoot>
</table>

{% else %}
  <h2>Issue Search</h2>
    
  <form action="" method="POST">{% csrf_token %}
    <table>{{ form.as_p }}</table>
    <input type="submit" value="Submit" />
  </form>
{% endif %}

<!--JQurey DatePicker -->
<script type="text/javascript">
  $(function() {   
    $("#{{ form.submitted_date.id_for_label }}").datepicker({dateFormat : "mm/dd/yy"});
    $("#{{ form.modified_date.id_for_label }}").datepicker({dateFormat : "mm/dd/yy"});
    $("#{{ form.closed_date.id_for_label }}").datepicker({dateFormat : "mm/dd/yy"});
  });</script>
<!-- DatePicker -->
    
{% endblock %}
